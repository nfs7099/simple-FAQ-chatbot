<!DOCTYPE html>
<html lang="en" data-theme="emerald">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple FAQ Chatbot</title>

  <!-- Styles -->
  <link rel="stylesheet" href="/static/css/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    

  <!-- React (UMD) -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
 
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Your React components (JSX) -->
  <script type="text/babel" data-presets="env,react" src="/static/ChatMessage.js"></script>
  <script type="text/babel" data-presets="env,react" src="/static/SourceDisplay.js"></script>
  <script type="text/babel" data-presets="env,react" src="/static/StatusModal.js"></script>
  <script type="text/babel" data-presets="env,react" src="/static/ChatInterface.js"></script>

  <!-- Main app (includes UI boot: app name + theme + upload/reindex wiring) -->
   <!-- Main app (also contains JSX) -->
  <script type="text/babel" data-presets="env,react" src="/static/app.js"></script>
  
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <i class="fas fa-recycle"></i>
        <!-- app.js will overwrite this text from /api/ui-config -->
        <h1 id="appTitle">Simple FAQ Chatbot</h1>
      </div>

      <div class="status-indicator" id="status-indicator" title="Click for details">
        <span class="status-dot loading"></span>
        <span class="status-text">Checking system status...</span>
        <button id="btnRefreshStatus" class="btn btn-ghost" aria-label="Refresh status" title="Refresh status">↻</button>
      </div>
    </header>

    <main>
      <!-- Documents panel -->
      <section class="panel docs-panel">
        <div class="docs-header">
          <h2>Documents</h2>
          <div class="docs-actions">
            <button id="btnReindex" class="btn btn-ghost">Incremental Reindex</button>
            <button id="btnReindexFull" class="btn btn-warn">Full Rebuild</button>
          </div>
        </div>

        <div class="docs-body">
          <!-- Custom picker wraps the native input to make it pretty -->
          <label class="file-picker" aria-label="Choose PDF to upload">
            <i class="fas fa-file-pdf"></i>
            <span id="fileLabel">Choose PDF…</span>
            <input id="fileInput" type="file" accept=".pdf,application/pdf" />
          </label>

          <button id="btnUpload" class="btn" disabled>Upload & Index</button>

          <div class="hint muted small">
            Only <strong>.pdf</strong> accepted. Max ~25MB (server-enforced).
          </div>
        </div>

        <div class="docs-foot muted small">
          Incremental adds new PDFs. Full rebuild is safer if files were modified or deleted.
        </div>
      </section>

      <!-- Chat root (React will render here) -->
      <section class="panel panel-span">
        <h2>Ask</h2>
        <div id="chat-container"></div>
      </section>
    </main>

    <footer>
      <p><span id="appFooterName">Simple FAQ Chatbot</span> &copy; 2025 | Powered by RAG Technology</p>
    </footer>
  </div>
</body>
</html>
